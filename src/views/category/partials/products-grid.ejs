<% if (products && products.length > 0) { %>
    <% products.forEach(product => { %>
        <div class="group">
            <a href="/products/<%= product.id %>" class="block">
                <div class="bg-gray-100 rounded-lg mb-3 aspect-square overflow-hidden">
                    <img src="<%= product.image %>" 
                         alt="<%= product.name %>"
                         class="w-full h-full object-cover group-hover:scale-105 transition duration-300">
                </div>
                <h3 class="font-medium mb-1.5"><%= product.name %></h3>
                <div class="flex items-center gap-2">
                    <span class="font-bold">
                        <%= typeof product.finalPrice === 'number' ? formatToVND(product.finalPrice) : '0 ₫' %>
                    </span>
                    
                    <% if (product.discount > 0) { %>
                        <span class="text-sm text-gray-500 line-through">
                            <%= typeof product.price === 'number' ? formatToVND(product.price) : '0 ₫' %>
                        </span>
                        <span class="text-sm text-red-500">-<%= product.discount %>%</span>
                    <% } %>
                </div>
            </a>
        </div>
    <% }); %>
<% } else { %>
    <div class="col-span-3 text-center py-12">
        <p class="text-gray-500">No products found</p>
    </div>
<% } %> 